<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'">
    <title>Star Commander</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Custom Titlebar -->
    <div class="titlebar">
        <div class="titlebar-drag">
            <span class="titlebar-icon">‚≠ê</span>
            <span class="titlebar-title">Star Commander</span>
        </div>
        <div class="titlebar-controls">
            <button class="titlebar-btn" id="btn-minimize">‚îÄ</button>
            <button class="titlebar-btn btn-close" id="btn-close">‚úï</button>
        </div>
    </div>

    <!-- Main Content -->
    <div class="container">
        <!-- Status Bar -->
        <div class="status-bar">
            <div class="status-indicator" id="status-indicator">
                <span class="status-dot"></span>
                <span class="status-text">Stopped</span>
            </div>
            <div class="status-actions">
                <span class="mode-title" id="mode-badge">üëë Commandant</span>
                <button class="btn btn-primary" id="btn-start">‚ñ∂ Start</button>
            </div>
        </div>

        <!-- Main Panel: 2 columns -->
        <div class="main-panel">
            <!-- Left: Channel Selector -->
            <div class="channel-section">
                <h3>üìª <span id="active-channel">MUTE</span></h3>
                <div class="channel-grid" id="channel-grid">
                    <button class="channel-btn active" data-target="mute">
                        <span class="channel-name">MUTE</span>
                        <span class="channel-key">1</span>
                    </button>
                    <button class="channel-btn" data-target="all">
                        <span class="channel-name">ALL</span>
                        <span class="channel-key">0</span>
                    </button>
                    <button class="channel-btn" data-target="channel1">
                        <span class="channel-name" id="channel1-name">Channel 1</span>
                        <span class="channel-key">2</span>
                    </button>
                    <button class="channel-btn" data-target="channel2">
                        <span class="channel-name" id="channel2-name">Channel 2</span>
                        <span class="channel-key">3</span>
                    </button>
                    <button class="channel-btn" data-target="channel3">
                        <span class="channel-name" id="channel3-name">Channel 3</span>
                        <span class="channel-key">4</span>
                    </button>
                    <!-- Briefing button in grid -->
                    <button class="channel-btn btn-briefing-grid" id="btn-briefing">
                        <span class="channel-name">üì¢ Briefing</span>
                        <span class="channel-key">5</span>
                    </button>
                </div>
                <!-- Whisper button for Chiefs -->
                <button class="btn btn-whisper" id="btn-whisper" style="display: none;">
                    üéôÔ∏è Whisper
                </button>
            </div>

            <!-- Right: Logs -->
            <div class="logs-section">
                <h3>üìä Logs</h3>
                <div class="logs-container" id="logs-container">
                    <div class="log-entry log-info">Welcome to Star Commander</div>
                </div>
            </div>
        </div>

        <!-- Tabs -->
        <div class="tabs" id="tabs-container">
            <button class="tab-btn active" data-tab="status">Status</button>
            <button class="tab-btn" data-tab="bots">Bots</button>
            <button class="tab-btn" data-tab="chiefs">Chiefs</button>
            <button class="tab-btn" data-tab="keybinds">Keybinds</button>
            <button class="tab-btn" data-tab="options">Options</button>
        </div>

        <!-- Tab Content -->
        <div class="tab-content">
            <!-- Status Tab -->
            <div class="tab-pane active" id="tab-status">
                <!-- Commandant: Bot status grid -->
                <div class="bot-status-grid" id="bot-status-grid">
                    <div class="bot-status" id="emitter-status">
                        <span class="bot-dot"></span>
                        <span>Emitter</span>
                    </div>
                    <div class="bot-status" id="receiver1-status">
                        <span class="bot-dot"></span>
                        <span id="receiver1-name">Receiver 1</span>
                    </div>
                    <div class="bot-status" id="receiver2-status">
                        <span class="bot-dot"></span>
                        <span id="receiver2-name">Receiver 2</span>
                    </div>
                    <div class="bot-status" id="receiver3-status">
                        <span class="bot-dot"></span>
                        <span id="receiver3-name">Receiver 3</span>
                    </div>
                </div>
                
                <!-- Chief: Info section -->
                <div id="chief-status-info" style="display: none;">
                    <div class="chief-info-card">
                        <h4>üéôÔ∏è Mode Chef</h4>
                        <div class="chief-identity">
                            <span class="chief-identity-name" id="chief-identity-name">-</span>
                            <span class="chief-identity-channel">üì¢ <span id="chief-identity-channel">-</span></span>
                        </div>
                        <div class="chief-instructions">
                            <p><strong>Whisper (toggle) :</strong></p>
                            <ol>
                                <li>Rejoignez votre channel vocal</li>
                                <li>Cliquez sur Whisper pour l'activer</li>
                                <li>Parlez - votre voix est relay√©e au Commandant</li>
                                <li>Recliquez pour d√©sactiver</li>
                            </ol>
                            <p class="whisper-note">‚ö†Ô∏è Votre channel vous entend toujours ! Le Whisper ajoute le Commandant en plus.</p>
                        </div>
                    </div>
                </div>
                
                <!-- Export/Import buttons for Commandant -->
                <div id="export-section" style="margin-top: 15px; display: flex; gap: 10px;">
                    <button class="btn" id="btn-export-config">üì§ Exporter config</button>
                    <button class="btn" id="btn-import-config">üì• Importer config</button>
                </div>
                
                <!-- Reset button -->
                <div style="margin-top: 20px; padding-top: 15px; border-top: 1px solid var(--border);">
                    <button class="btn btn-danger" id="btn-reset-config">üóëÔ∏è Reset complet</button>
                </div>
            </div>

            <!-- Bots Tab (Commandant only) -->
            <div class="tab-pane" id="tab-bots">
                <div class="bot-config-section">
                    <h4>üéß Emitter <span class="bot-desc">- listens to commanders</span></h4>
                    <div class="form-row">
                        <div class="form-group" style="flex: 2">
                            <label>Bot Token</label>
                            <input type="password" id="token-emitter" placeholder="Bot token...">
                        </div>
                        <div class="form-group" style="flex: 1">
                            <label>Source Channel ID</label>
                            <input type="text" id="channel-source" placeholder="Channel ID...">
                        </div>
                    </div>
                </div>

                <div class="bot-config-section">
                    <h4>üì¢ Receiver 1 <span class="bot-desc">- broadcasts to target</span></h4>
                    <div class="form-row">
                        <div class="form-group" style="flex: 1">
                            <label>Display Name</label>
                            <input type="text" id="name-receiver1" placeholder="e.g. Artilleurs">
                        </div>
                        <div class="form-group" style="flex: 1">
                            <label>Target Channel ID</label>
                            <input type="text" id="target1-id" placeholder="Channel ID...">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Bot Token</label>
                        <input type="password" id="token-receiver1" placeholder="Bot token...">
                    </div>
                </div>

                <div class="bot-config-section">
                    <h4>üì¢ Receiver 2 <span class="bot-desc">- broadcasts to target</span></h4>
                    <div class="form-row">
                        <div class="form-group" style="flex: 1">
                            <label>Display Name</label>
                            <input type="text" id="name-receiver2" placeholder="e.g. Ing√©nieurs">
                        </div>
                        <div class="form-group" style="flex: 1">
                            <label>Target Channel ID</label>
                            <input type="text" id="target2-id" placeholder="Channel ID...">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Bot Token</label>
                        <input type="password" id="token-receiver2" placeholder="Bot token...">
                    </div>
                </div>

                <div class="bot-config-section">
                    <h4>üì¢ Receiver 3 <span class="bot-desc">- broadcasts to target</span></h4>
                    <div class="form-row">
                        <div class="form-group" style="flex: 1">
                            <label>Display Name</label>
                            <input type="text" id="name-receiver3" placeholder="e.g. Escadrille">
                        </div>
                        <div class="form-group" style="flex: 1">
                            <label>Target Channel ID</label>
                            <input type="text" id="target3-id" placeholder="Channel ID...">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Bot Token</label>
                        <input type="password" id="token-receiver3" placeholder="Bot token...">
                    </div>
                </div>

                <!-- Relay Channel for Whisper -->
                <div class="bot-config-section">
                    <h4>üì° Whisper Relay <span class="bot-desc">- for chief ‚Üí commander communication</span></h4>
                    <div class="form-row">
                        <div class="form-group" style="flex: 1">
                            <label>Channel ID (texte)</label>
                            <input type="text" id="channel-relay" placeholder="Channel ID texte...">
                        </div>
                        <div class="form-group" style="flex: 2">
                            <label>Webhook URL <a href="#" onclick="openExternal('https://support.discord.com/hc/en-us/articles/228383668-Intro-to-Webhooks'); return false;">(comment cr√©er ?)</a></label>
                            <input type="text" id="webhook-relay" placeholder="https://discord.com/api/webhooks/...">
                        </div>
                    </div>
                </div>

                <button class="btn btn-primary" id="btn-save-bots">Save All</button>
            </div>

            <!-- Chiefs Tab (Commandant: manage chiefs, Chef: view only) -->
            <div class="tab-pane" id="tab-chiefs">
                <p class="help-text">üéñÔ∏è D√©finissez les chefs et leur channel assign√©.<br>Chaque chef pourra whisper vers le channel Commandants.</p>
                <div id="chiefs-list"></div>
                <div id="chiefs-add-section">
                    <div class="form-row">
                        <input type="text" id="new-chief-userid" placeholder="Discord User ID">
                        <input type="text" id="new-chief-name" placeholder="Nom (ex: Raven)">
                        <select id="new-chief-channel">
                            <option value="">-- Channel --</option>
                            <option value="receiver1">Receiver 1</option>
                            <option value="receiver2">Receiver 2</option>
                            <option value="receiver3">Receiver 3</option>
                        </select>
                        <button class="btn" id="btn-add-chief">Add</button>
                    </div>
                </div>
            </div>

            <!-- Keybinds Tab -->
            <div class="tab-pane" id="tab-keybinds">
                <p class="help-text">Cliquez sur un champ et appuyez sur la touche souhait√©e.<br>
                üí° Combinaisons possibles : <strong>Ctrl+2</strong>, <strong>Alt+F1</strong>, <strong>Shift+num0</strong>, etc.</p>
                <div id="keybinds-commandant">
                    <div class="form-group">
                        <label>All Channels</label>
                        <input type="text" id="keybind-all" class="keybind-input" readonly placeholder="Press a key...">
                    </div>
                    <div class="form-group">
                        <label>Mute</label>
                        <input type="text" id="keybind-mute" class="keybind-input" readonly placeholder="Press a key...">
                    </div>
                    <div class="form-group">
                        <label id="keybind-channel1-label">Channel 1</label>
                        <input type="text" id="keybind-channel1" class="keybind-input" readonly placeholder="Press a key...">
                    </div>
                    <div class="form-group">
                        <label id="keybind-channel2-label">Channel 2</label>
                        <input type="text" id="keybind-channel2" class="keybind-input" readonly placeholder="Press a key...">
                    </div>
                    <div class="form-group">
                        <label id="keybind-channel3-label">Channel 3</label>
                        <input type="text" id="keybind-channel3" class="keybind-input" readonly placeholder="Press a key...">
                    </div>
                    <div class="form-group">
                        <label>üì¢ Briefing (rassemblement)</label>
                        <input type="text" id="keybind-briefing" class="keybind-input" readonly placeholder="Press a key...">
                    </div>
                </div>
                <div id="keybinds-chief" style="display: none;">
                    <div class="form-group">
                        <label>üé§ Whisper (parler au commandant)</label>
                        <input type="text" id="keybind-whisper" class="keybind-input" readonly placeholder="Press a key...">
                    </div>
                </div>
                <div style="display: flex; gap: 10px; margin-top: 15px;">
                    <button class="btn btn-primary" id="btn-save-keybinds">Save Keybinds</button>
                    <button class="btn" id="btn-reset-keybinds">üîÑ Reset par d√©faut</button>
                </div>
            </div>

            <!-- Options Tab -->
            <div class="tab-pane" id="tab-options">
                <h4>üñ•Ô∏è Affichage</h4>
                
                <div class="option-group">
                    <div class="option-item">
                        <div class="option-info">
                            <span class="option-label">üìå Overlay (affichage du channel actif)</span>
                            <span class="option-desc">Affiche une petite fen√™tre toujours visible avec le channel s√©lectionn√©</span>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="option-overlay">
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>
                
                <h4>üîä Effets Audio</h4>
                <p class="help-text">Ces effets s'appliquent uniquement aux voix relay√©es entre channels.</p>
                
                <div class="option-group">
                    <div class="option-item">
                        <div class="option-info">
                            <span class="option-label">üìª Effet radio (talkie-walkie)</span>
                            <span class="option-desc">Applique un filtre radio sur les voix transmises</span>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="option-radio-effect" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    
                    <div class="option-item" id="radio-intensity-row">
                        <div class="option-info">
                            <span class="option-label">üéöÔ∏è Intensit√© de l'effet</span>
                            <span class="option-desc">0% = l√©ger, 100% = fort</span>
                        </div>
                        <div class="slider-container">
                            <input type="range" id="option-radio-intensity" min="0" max="100" value="50" class="slider">
                            <span class="slider-value" id="radio-intensity-value">50%</span>
                        </div>
                    </div>
                    
                    <div class="option-item">
                        <div class="option-info">
                            <span class="option-label">üîò Son de clic radio</span>
                            <span class="option-desc">Joue un clic au d√©but de chaque transmission</span>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="option-click-sound" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>
                
                <button class="btn btn-primary" id="btn-save-options">Save Options</button>
            </div>
        </div>
    </div>

    <!-- Setup Wizard -->
    <div class="wizard-overlay" id="wizard-overlay" style="display: none;">
        <div class="wizard">
            <h2>‚≠ê Welcome to Star Commander</h2>
            
            <!-- Step 0: Choose Mode -->
            <div class="wizard-step" id="wizard-step-0">
                <h3>Choisissez votre r√¥le</h3>
                <p>Comment allez-vous utiliser Star Commander ?</p>
                
                <div class="mode-selection">
                    <button class="mode-card" id="btn-mode-commandant">
                        <span class="mode-icon">üëë</span>
                        <span class="mode-title">COMMANDANT</span>
                        <span class="mode-desc">Je configure les bots et g√®re la flotte</span>
                    </button>
                    <button class="mode-card" id="btn-mode-chief">
                        <span class="mode-icon">üéñÔ∏è</span>
                        <span class="mode-title">CHEF</span>
                        <span class="mode-desc">J'importe la config du commandant</span>
                    </button>
                </div>
            </div>

            <!-- COMMANDANT FLOW -->
            <!-- Step 0: Existing config? -->
            <div class="wizard-step" id="wizard-step-cmd-0" style="display: none;">
                <h3>Configuration existante ?</h3>
                <p>Avez-vous d√©j√† une configuration Star Commander √† restaurer ?</p>
                
                <div class="mode-selection">
                    <button class="mode-card" id="btn-cmd-import">
                        <span class="mode-icon">üì•</span>
                        <span class="mode-title">OUI</span>
                        <span class="mode-desc">J'ai un fichier config.json</span>
                    </button>
                    <button class="mode-card" id="btn-cmd-new">
                        <span class="mode-icon">‚ûï</span>
                        <span class="mode-title">NON</span>
                        <span class="mode-desc">Nouvelle configuration</span>
                    </button>
                </div>
                
                <button class="btn" onclick="wizardStep(0)">‚Üê Retour</button>
            </div>
            
            <!-- Step 0b: Import for Commandant -->
            <div class="wizard-step" id="wizard-step-cmd-import" style="display: none;">
                <h3>Importer la configuration</h3>
                <p>S√©lectionnez votre fichier <strong>starcommander-config.json</strong></p>
                
                <div class="import-zone" id="import-zone-cmd">
                    <span class="import-icon">üìÅ</span>
                    <span class="import-text">Cliquez pour s√©lectionner le fichier</span>
                    <input type="file" id="import-file-cmd" accept=".json" style="display: none;">
                </div>
                
                <div id="import-preview-cmd" style="display: none;">
                    <p class="wizard-note success">‚úÖ Config charg√©e !</p>
                    <div class="import-info">
                        <p><strong>Channels trouv√©s :</strong></p>
                        <ul id="import-channels-list-cmd"></ul>
                    </div>
                </div>
                
                <button class="btn" onclick="wizardStep('cmd-0')">‚Üê Retour</button>
                <button class="btn btn-primary" id="btn-cmd-import-finish" onclick="wizardFinishCommandantImport()" disabled>Terminer ‚úì</button>
            </div>

            <!-- Step 1: Create Bots -->
            <div class="wizard-step" id="wizard-step-cmd-1" style="display: none;">
                <h3>Step 1: Cr√©er les Bots Discord</h3>
                <p>Vous devez cr√©er <strong>4 bots Discord</strong> :</p>
                <ul>
                    <li><strong>1 Emitter</strong> - √©coute le channel commandants</li>
                    <li><strong>3 Receivers</strong> - parlent dans les channels cibles</li>
                </ul>
                
                <div class="wizard-instructions">
                    <h4>üìù Pour chaque bot :</h4>
                    <ol>
                        <li>Allez sur <a href="#" onclick="openExternal('https://discord.com/developers/applications')">Discord Developer Portal</a></li>
                        <li>Click <strong>"New Application"</strong> ‚Üí Nommez-le</li>
                        <li><strong>"Bot"</strong> tab ‚Üí <strong>"Reset Token"</strong> ‚Üí Copiez</li>
                        <li>Activez <strong>Privileged Gateway Intents</strong> :
                            <ul>
                                <li>‚úÖ Presence Intent</li>
                                <li>‚úÖ Server Members Intent <span class="required">(requis!)</span></li>
                                <li>‚úÖ Message Content Intent</li>
                            </ul>
                        </li>
                        <li><strong>"OAuth2" ‚Üí "URL Generator"</strong></li>
                        <li>Scopes: <strong>bot</strong> | Permissions: <strong>Connect, Speak</strong></li>
                        <li>Invitez le bot sur votre serveur</li>
                    </ol>
                </div>
                
                <p class="wizard-note">‚ö†Ô∏è R√©p√©tez pour les 4 bots, puis cliquez Suivant</p>
                <button class="btn" onclick="wizardStep('cmd-0')">‚Üê Retour</button>
                <button class="btn btn-primary" onclick="wizardStep('cmd-2')">Suivant ‚Üí</button>
            </div>
            
            <!-- Step 2: Tokens -->
            <div class="wizard-step" id="wizard-step-cmd-2" style="display: none;">
                <h3>Step 2: Tokens des Bots</h3>
                <div class="form-group">
                    <label>Emitter Token</label>
                    <input type="password" id="wizard-token-emitter" placeholder="Collez le token...">
                </div>
                <div class="form-group">
                    <label>Receiver 1 Token</label>
                    <input type="password" id="wizard-token-receiver1" placeholder="Collez le token...">
                </div>
                <div class="form-group">
                    <label>Receiver 2 Token</label>
                    <input type="password" id="wizard-token-receiver2" placeholder="Collez le token...">
                </div>
                <div class="form-group">
                    <label>Receiver 3 Token</label>
                    <input type="password" id="wizard-token-receiver3" placeholder="Collez le token...">
                </div>
                <p class="wizard-note">üîí Les tokens sont stock√©s localement uniquement</p>
                <button class="btn" onclick="wizardStep('cmd-1')">‚Üê Retour</button>
                <button class="btn btn-primary" onclick="wizardValidateStep2()">Suivant ‚Üí</button>
            </div>
            
            <!-- Step 3: Channels -->
            <div class="wizard-step" id="wizard-step-cmd-3" style="display: none;">
                <h3>Step 3: Configurer les Channels Vocaux</h3>
                <p class="wizard-note">üí° Clic droit sur un channel ‚Üí "Copier l'identifiant"</p>
                
                <div class="form-group">
                    <label>Channel Source (Commandants) - vocal</label>
                    <input type="text" id="wizard-channel-source" placeholder="Channel ID...">
                </div>
                <hr>
                <div class="form-row">
                    <div class="form-group">
                        <label>Target 1 - Nom</label>
                        <input type="text" id="wizard-target1-name" placeholder="ex: Artilleurs">
                    </div>
                    <div class="form-group">
                        <label>Channel ID (vocal)</label>
                        <input type="text" id="wizard-target1-id" placeholder="Channel ID...">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Target 2 - Nom</label>
                        <input type="text" id="wizard-target2-name" placeholder="ex: Ing√©nieurs">
                    </div>
                    <div class="form-group">
                        <label>Channel ID (vocal)</label>
                        <input type="text" id="wizard-target2-id" placeholder="Channel ID...">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Target 3 - Nom</label>
                        <input type="text" id="wizard-target3-name" placeholder="ex: Pilotes">
                    </div>
                    <div class="form-group">
                        <label>Channel ID (vocal)</label>
                        <input type="text" id="wizard-target3-id" placeholder="Channel ID...">
                    </div>
                </div>
                <button class="btn" onclick="wizardStep('cmd-2')">‚Üê Retour</button>
                <button class="btn btn-primary" onclick="wizardValidateStep3()">Suivant ‚Üí</button>
            </div>
            
            <!-- Step 4: Whisper Relay -->
            <div class="wizard-step" id="wizard-step-cmd-4" style="display: none;">
                <h3>Step 4: Configurer le Whisper Relay</h3>
                <p>Le Whisper permet aux chefs de parler directement au commandant.</p>
                
                <div class="wizard-instructions">
                    <h4>üì° Cr√©er le channel relay :</h4>
                    <ol>
                        <li>Cr√©ez un <strong>channel TEXTE priv√©</strong> (ex: "star-commander-relay")</li>
                        <li>Dans les permissions du channel, <strong>ajoutez vos 4 bots</strong> :
                            <ul>
                                <li>‚úÖ Voir le salon</li>
                                <li>‚úÖ Lire l'historique</li>
                                <li>‚úÖ Envoyer des messages</li>
                                <li>‚úÖ G√©rer les messages (pour supprimer les commandes)</li>
                            </ul>
                        </li>
                        <li>Clic droit sur le channel ‚Üí <strong>"Copier l'identifiant"</strong></li>
                    </ol>
                </div>
                
                <div class="form-group">
                    <label>üì° Channel Relay ID (texte)</label>
                    <input type="text" id="wizard-channel-relay" placeholder="Channel ID du channel texte...">
                </div>
                
                <div class="wizard-instructions" style="margin-top: 15px;">
                    <h4>üîó Cr√©er le Webhook :</h4>
                    <ol>
                        <li><strong>Param√®tres du serveur</strong> (clic sur le nom du serveur)</li>
                        <li>Onglet <strong>"Int√©grations"</strong></li>
                        <li>Click <strong>"Webhooks"</strong> ‚Üí <strong>"Nouveau webhook"</strong></li>
                        <li>S√©lectionnez le <strong>channel relay</strong> cr√©√© pr√©c√©demment</li>
                        <li>Click <strong>"Copier l'URL du webhook"</strong></li>
                    </ol>
                </div>
                
                <div class="form-group">
                    <label>üîó Webhook URL</label>
                    <input type="text" id="wizard-webhook-relay" placeholder="https://discord.com/api/webhooks/...">
                </div>
                
                <p class="wizard-note">‚ö†Ô∏è Sans cette configuration, le Whisper ne fonctionnera pas !</p>
                
                <button class="btn" onclick="wizardStep('cmd-3')">‚Üê Retour</button>
                <button class="btn btn-primary" onclick="wizardValidateStep4()">Terminer ‚úì</button>
            </div>

            <!-- CHIEF FLOW -->
            <!-- Step 1: Import Config -->
            <div class="wizard-step" id="wizard-step-chief-1" style="display: none;">
                <h3>Step 1: Importer la config</h3>
                <p>Demandez le fichier <strong>starcommander-config.json</strong> √† votre commandant.</p>
                
                <div class="import-zone" id="import-zone">
                    <span class="import-icon">üìÅ</span>
                    <span class="import-text">Cliquez pour s√©lectionner le fichier</span>
                    <input type="file" id="import-file" accept=".json" style="display: none;">
                </div>
                
                <div id="import-preview" style="display: none;">
                    <p class="wizard-note success">‚úÖ Config charg√©e !</p>
                    <div class="import-info">
                        <p><strong>Channels disponibles :</strong></p>
                        <ul id="import-channels-list"></ul>
                    </div>
                </div>
                
                <button class="btn" onclick="wizardStep(0)">‚Üê Retour</button>
                <button class="btn btn-primary" id="btn-chief-next" onclick="wizardStep('chief-2')" disabled>Suivant ‚Üí</button>
            </div>
            
            <!-- Step 2: Select Identity -->
            <div class="wizard-step" id="wizard-step-chief-2" style="display: none;">
                <h3>Step 2: Identifiez-vous</h3>
                <p>S√©lectionnez votre r√¥le parmi les chefs configur√©s :</p>
                
                <div class="form-group">
                    <label>Vous √™tes...</label>
                    <select id="wizard-chief-select" class="chief-select">
                        <option value="">-- S√©lectionnez --</option>
                    </select>
                </div>
                
                <div id="chief-info" style="display: none;">
                    <p class="wizard-note">üì¢ Vous serez dans le channel <strong id="chief-channel-name"></strong></p>
                    <p class="wizard-note">üé§ Utilisez Whisper pour parler au commandant</p>
                </div>
                
                <button class="btn" onclick="wizardStep('chief-1')">‚Üê Retour</button>
                <button class="btn btn-primary" id="btn-chief-finish" onclick="wizardFinishChief()" disabled>Terminer ‚úì</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
